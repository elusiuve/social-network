{"version":3,"sources":["components/hoc/withAuthRedirect.js","assets/images/user.png","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","state","auth","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","event","currentTarget","autoFocus","onBlur","updateStatus","profileDataReduxForm","reduxForm","form","handleSubmit","profile","error","onSubmit","className","s","formSummeryError","createField","Input","type","Textarea","contacts","keys","map","key","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","ContactValue","Contact","ProfileInfo","Preloader","sunnyDay","src","descriptionBlock","photos","large","userPhoto","target","files","savePhoto","initialValues","formData","saveProfile","then","Post","item","message","likesCount","maxLength10","maxLengthCreator","AddMessageFormRedux","Field","component","name","validate","required","placeholder","MyPosts","postsElement","posts","p","id","postsBlock","values","addPost","newPostText","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","store","ProfileContainer","userId","match","params","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","compose","setUserProfile","withRouter"],"mappings":"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","file":"static/js/3.cf3134e1.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to={'/login'} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let mapStateToPropsForRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth,\r\n      })\r\n      \r\n      let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/user.f8a15e74.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1cvHl\",\"sunnyDay\":\"ProfileInfo_sunnyDay__2yfhB\",\"contacts\":\"ProfileInfo_contacts__3D_BV\",\"formSummeryError\":\"ProfileInfo_formSummeryError__3DCNz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1Y-8I\",\"posts\":\"MyPosts_posts__1Yv_d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__-bUGf\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState, useEffect } from 'react'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (event) => {\r\n        setStatus(event.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div >\r\n                    <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || '---'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status} />\r\n                </div>\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport { createField, Input, Textarea } from '../../Common/FormsController/FormsController'\r\nimport { reduxForm } from 'redux-form'\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileDataForm = ({ handleSubmit, profile, error }) => {\r\n    return (<form onSubmit={handleSubmit}>\r\n        <div><button>Save</button></div>\r\n        {error && <div className={s.formSummeryError}>\r\n            Incorrect email or password\r\n            </div>}\r\n        <div>\r\n            <b>Full name </b>: {createField('Full name', 'fullName', [], Input)}\r\n\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job </b>: {createField('', 'lookingForAJob', [], Input, { type: 'checkbox' })}\r\n        </div>\r\n\r\n        <div>\r\n            <b>My professional skills </b>: {createField('My professional skills', 'lookingForAJobDescription', [], Textarea)}\r\n        </div>\r\n        <div>\r\n            <b>About me</b> : {createField('About me', 'AboutMe', [], Textarea)}\r\n        </div>\r\n        <div className={s.contacts}>\r\n            <b>Contacts</b> : {Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={s.contacts}>\r\n                    <b>{key}: {createField(key, 'contacts.' + key, [], Input)}</b>\r\n                </div>\r\n            })}\r\n        </div>\r\n    </form>)\r\n}\r\n\r\nconst profileDataReduxForm = reduxForm({\r\n    form: 'edit-profile'\r\n})(ProfileDataForm)\r\n\r\nexport default profileDataReduxForm","import React, { useState } from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport ProfileDataForm from './ProfileDataForm'\r\n\r\nconst ProfileInfo = (props) => {\r\n  let [editMode, setEditMode] = useState(false)\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  const onMainPhotoSelected = (event) => {\r\n    if (event.target.files.length) {\r\n      props.savePhoto(event.target.files[0])\r\n    }\r\n  }\r\n  const onSubmit = (formData) => {\r\n    props.saveProfile(formData).then(() => { setEditMode(false) })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <img className={s.sunnyDay} src='https://cs7.pikabu.ru/post_img/big/2017/12/27/6/1514366899147280970.jpg' />\r\n      </div>\r\n      <div className={s.descriptionBlock}>\r\n        <img src={props.profile.photos.large || userPhoto} />\r\n        {props.isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n        <div> {editMode\r\n          ? <ProfileDataForm initialValues={props.profile} profile={props.profile} onSubmit={onSubmit} />\r\n          : <ProfileData goToEditMode={() => { setEditMode(true) }} profile={props.profile} isOwner={props.isOwner} />}\r\n        </div>\r\n        <div>\r\n          <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nconst ProfileData = ({ profile, isOwner, goToEditMode }) => {\r\n  return (<div>\r\n    {isOwner && <div><button onClick={goToEditMode}>Edit</button></div>}\r\n    <div>\r\n      <b>Full name </b>: {profile.fullName}\r\n    </div>\r\n    <div>\r\n      <b>Looking for a job </b>: {profile.lookingForAJob ? 'yes' : 'no'}\r\n    </div>\r\n    {\r\n      profile.lookingForAJob &&\r\n      <div>\r\n        <b>My professional skills </b>: {profile.lookingForAJobDescription}\r\n      </div>\r\n    }\r\n    <div>\r\n      <b>About me</b> : {profile.aboutMe}\r\n    </div>\r\n    <div className={s.contacts}>\r\n      <b>Contacts</b> : {Object.keys(profile.contacts).map(key => {\r\n        return <Contact key={key} contactTitle={key} ContactValue={profile.contacts[key]} />\r\n      })}\r\n    </div>\r\n  </div>)\r\n}\r\n\r\nconst Contact = ({ contactTitle, ContactValue }) => {\r\n  return <div><b>{contactTitle}</b>: {ContactValue}</div>\r\n}\r\nexport default ProfileInfo","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src='https://s1.iconbird.com/ico/2013/12/505/w450h4001385925286User.png' />\r\n      {props.message}\r\n      <div>likes</div>{props.likesCount}\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nexport default Post;","import React from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required, maxLengthCreator } from '../../../utils/validators'\r\nimport { Textarea } from '../../Common/FormsController/FormsController'\r\n\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst MyPosts = (props) => {\r\n  let postsElement =\r\n    props.posts.map((p) => <Post message={p.message} id={p.id} likesCount={p.likesCount} />)\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostText)\r\n  }\r\n\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h3>My posts</h3>\r\n      <div>\r\n        <AddMessageFormRedux onSubmit={onAddPost} />\r\n      </div>\r\n      <div className={s.posts}>\r\n        {postsElement}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} >\r\n      <div>\r\n        <Field component={Textarea} name={'newPostText'} validate={[required, maxLength10]} placeholder='Enter your messague' />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({\r\n  form: 'ProfileAddNewPostForm'\r\n})(AddNewPostForm)\r\n\r\nexport default MyPosts","import { addPostActionCreator } from '../../../redux/profile_reducer';\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\n\r\nconst Profile = (props) => {\r\n\r\n  return (\r\n    < div >\r\n      <ProfileInfo savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus} saveProfile={props.saveProfile} />\r\n      <MyPostsContainer store={props.store} />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto, setUserProfile, saveProfile } from '../../redux/profile_reducer';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect'\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.userId\r\n    }\r\n    this.props.getUserProfile(userId)\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.match.params.userId != prevProps.match.params.userId)\r\n      this.refreshProfile()\r\n  }\r\n  render() {\r\n    return (\r\n      <Profile {...this.props}\r\n        isOwner={!this.props.match.params.userId}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n        savePhoto={this.props.savePhoto} />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  userId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto, setUserProfile, saveProfile }),\r\n  withRouter,\r\n  //withAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}